{
    "collab_server" : "",
    "contents" : "---\ntitle       : Introduction to shinyHome\nsubtitle    : Product Pitch\nauthor      : John James\njob         : Coursera Building Data Products, Data Science Specialization\nframework   : io2012        # {io2012, html5slides, shower, dzslides, ...}\nhighlighter : highlight.js  # {highlight.js, prettify, highlight}\nhitheme     : tomorrow      # \nwidgets     : []\nmode        : selfcontained # {standalone, draft}\nknit        : slidify::knit2slides\next_widgets : {rCharts: [libraries/nvd3]}\n\n--- \n\n```{r environment, echo = FALSE, message = F, eval = T, tidy=TRUE, tidy.opts=list(comment=TRUE)}\nrequire(rCharts)\noptions(RCHART_LIB = 'polycharts')\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(plotly)\nlibrary(plyr)\nlibrary(rCharts)\n```\n\n## Explore Markets\nExplore over 20,000 markets by geography, home value price ranges and growth rates, then examine the distribution of home values, and discover the top markets by home value growth and, for the top growth markets, a time series of price movements since 2000.  \n\n<div style='text-align: center;'>\n    <img height='400' src='http://www.daelmann.com/code/dataScience/shinyHome/images/explorer.png' />\n</div>\n\n--- \n\n## Analyze Markets\nAnalyze home value price trends for selected markets. Evaluate non-seasonal price trends and decompose seasonal movements into their trend, seasonal and random components.\n\n<div style='text-align: center;'>\n    <img height='400' src='http://www.daelmann.com/code/dataScience/shinyHome/images/analyzer.png' />\n</div>\n\n--- \n\n## Train Forecast Models\nSelect a market, create training and test sets, then train eight of the most acknowledged time series forecasting algorithms, including Arima, Basic Structural, Naive, Neural Networks, Automated forecasting with exponential smoothing and others. Inspect forecast error statistics to evaluate forecast accuracy of each model.\n\n<div style='text-align: center;'>\n    <img height='400' src='http://www.daelmann.com/code/dataScience/shinyHome/images/train.png' />\n</div>\n\n--- &twocol\n\n## Forecast Home Value Prices\nExecute forecasts and compare predictions among the algorithms.  This is the 10 year forecast of median home values for San Francisco, California for each of the predictional algorithms. On the right, we have the predicted prices on Jan 1, 2026 for each of the models.\n\n*** {name: left}\n```{r forecast, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}\n# Libraries\nlibrary(forecast)\nlibrary(ggplot2)\nlibrary(rCharts)\nlibrary(reshape)\n\n# Get Time Series Data\nhviAllCity  = read.csv(\"./processedData/hviAllCity.csv\", header = TRUE, stringsAsFactors = FALSE)\nd <- subset(hviAllCity, StateName == \"California\" & City == \"San Francisco\", select = X2000.01:X2015.12)\nd <- d[,]/1000\nv  <- as.numeric(as.vector(d))\nd  <- ts(v, frequency = 12, start = c(2000,1))\n\n#Train Models\nARIMA = auto.arima(d, ic='aicc', stepwise=FALSE)\nETS = ets(d, ic='aicc', restrict=FALSE)\nNEURAL = nnetar(d, p=12, size=25)\nTBATS = tbats(d, ic='aicc', seasonal.periods=12)\nBATS = bats(d, ic='aicc', seasonal.periods=12)\nSTLM = stlm(d, s.window=12, ic='aicc', robust=TRUE, method='ets')\nSTS = StructTS(d, type = \"level\")\nNAIVE = naive(d, 12)\n\n# # Forecast\nfcastARIMA   <-   forecast(ARIMA, 120)\nfcastETS   <-   forecast(ETS, 120)\nfcastNEURAL   <-   forecast(NEURAL, 120)\nfcastTBATS   <-   forecast(TBATS, 120)\nfcastBATS   <-   forecast(BATS, 120)\nfcastSTLM   <-   forecast(STLM, 120)\nfcastSTS   <-   forecast(STS, 120)\nfcastNAIVE   <-   forecast(NAIVE, 120)\n\n# Convert to numeric\nfcastARIMA   <-   as.vector(as.numeric(fcastARIMA$mean))\nfcastETS   <-   as.vector(as.numeric(fcastETS$mean))\nfcastNEURAL   <-   as.vector(as.numeric(fcastNEURAL$mean))\nfcastTBATS   <-   as.vector(as.numeric(fcastTBATS$mean))\nfcastBATS   <-   as.vector(as.numeric(fcastBATS$mean))\nfcastSTLM   <-   as.vector(as.numeric(fcastSTLM$mean))\nfcastSTS   <-   as.vector(as.numeric(fcastSTS$mean))\nfcastNAIVE   <-   as.vector(as.numeric(fcastNAIVE$mean))\n\ntimePeriod  <- seq.Date(as.Date('2016/1/1'), by = \"month\", length.out = 120) \nvars      <- c(\"TIME\", \"ARIMA\", \"ETS\", \"NAIVE\", \"NEURAL\", \"BATS\", \"TBATS\", \"STLM\", \"STS\")\nforecasts <- data.frame(timePeriod, fcastARIMA,\tfcastETS,fcastNAIVE, fcastNEURAL, fcastBATS, fcastTBATS, fcastSTLM,\tfcastSTS)\nnames(forecasts) <- vars\nforecasts <- melt(forecasts, id = \"TIME\")\nnames(forecasts) <- c(\"Time\", \"Model\", \"Value\")\n\n# Plot Forecast\np <- nPlot(Value ~ Time, group = \"Model\", type = \"lineChart\", data = forecasts)\np$xAxis(\n  tickFormat = \n    \"#!\n  function(d){\n  f =  d3.time.format.utc('%Y-%m-%d');\n  return f(new Date( d*24*60*60*1000 ));\n  }\n  !#\"\n)\np$yAxis(tickFormat = \"#! function(d) {return d3.format(',.0f')(d)} !#\")\np$yAxis(axisLabel = \"($000)\", width = 63)\np$params$width <- 350\np$params$height <- 400\nprint(p)\n```\n\n*** {name: right}\n```{r prediction, echo=FALSE, message=FALSE, warning=FALSE, results='asis'}\n#Get end of period prediction\nfcastARIMA  <- fcastARIMA[length(fcastARIMA)]\nfcastETS  <- fcastETS[length(fcastETS)]\nfcastNEURAL  <- fcastNEURAL[length(fcastNEURAL)]\nfcastTBATS  <- fcastTBATS[length(fcastTBATS)]\nfcastBATS  <- fcastBATS[length(fcastBATS)]\nfcastSTLM  <- fcastSTLM[length(fcastSTLM)]\nfcastSTS  <- fcastSTS[length(fcastSTS)]\nfcastNAIVE  <- fcastNAIVE[length(fcastNAIVE)]\n\n#Plot end of period.\nprediction <- as.vector(c(fcastARIMA,\tfcastETS,\tfcastNAIVE, fcastNEURAL,\tfcastBATS, fcastTBATS,\tfcastSTLM,\tfcastSTS))\nmodels <- c(\"Arima\", \"ETS\", \"Naive\", \"Neural\", \"BATS\", \"TBATS\", \"STLM\", \"STS\")\nd <- data.frame(models, prediction)\ncolnames(d) <- c(\"Model\",\"Prediction\")\np <- nPlot(Prediction~Model, data = d, type = \"discreteBarChart\", dom = \"predictionPlot\", height = 400, width = 350)\np$set(title = \"Predicted Median Home Values at End of Forecast Period\")\np$xAxis(staggerLabels = TRUE)\np$yAxis(tickFormat = \"#! function(d) {return d3.format(',.0f')(d)} !#\")\np$yAxis(axisLabel = \"($000)\", width = 60)\nprint(p)\n\n```\n",
    "created" : 1466842757620.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2371561908",
    "id" : "9D123E1A",
    "lastKnownWriteTime" : 1466917269,
    "last_content_update" : 1466917269112,
    "path" : "~/Dropbox/Online Learning/Data Science/Data Science Specialization/9. Data Products/shinyHomePitch/index.Rmd",
    "project_path" : "index.Rmd",
    "properties" : {
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}